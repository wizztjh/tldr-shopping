!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(e){if(!e)return void console.error("Component attempted to register before AFRAME was available.");var t={"obj-loader":r(1).component};Object.keys(t).forEach(function(r){e.aframeCore?e.aframeCore.registerComponent(r,t[r]):e.registerComponent(r,t[r])})}(window.AFRAME)},function(e,t,r){r(3),r(2),r(4),e.exports.component={dependencies:["material"],schema:{src:{"default":""},mtl:{"default":""}},update:function(){var e=this.el,t=this.data,r=this.model,a=this.parseUrl(t.src),n=this.parseUrl(t.mtl);r&&e.object3D.remove(r),a&&n?(e.components.material&&console.warn("Material component is ignored when a .MTL is provided"),this.loadObjMtl(a,n)):a?this.loadObj(a):console.warn("Model URL not provided")},loadObjMtl:function(e,t){var r=new THREE.OBJMTLLoader;r.load(e,t,function(e){this.model=e,this.el.object3D.add(e)}.bind(this))},loadObj:function(e){var t=new THREE.OBJLoader;t.load(e,function(e){this.model=e,this.applyMaterial(),this.el.object3D.add(e)}.bind(this))},applyMaterial:function(){var e=this.el.components.material.material;this.model&&this.model.traverse(function(t){t instanceof THREE.Mesh&&(t.material=e)})},parseUrl:function(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}}},function(e,t){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,r,a){var n=this,i=new THREE.XHRLoader(this.manager);i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){t(n.parse(e))},r,a)},setBaseUrl:function(e){this.baseUrl=e},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),r={},a=/\s+/,n={},i=0;i<t.length;i++){var s=t[i];if(s=s.trim(),0!==s.length&&"#"!==s.charAt(0)){var o=s.indexOf(" "),d=o>=0?s.substring(0,o):s;d=d.toLowerCase();var l=o>=0?s.substring(o+1):"";if(l=l.trim(),"newmtl"===d)r={name:l},n[l]=r;else if(r)if("ka"===d||"kd"===d||"ks"===d){var c=l.split(a,3);r[d]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else r[d]=l}}var u=new THREE.MTLLoader.MaterialCreator(this.baseUrl,this.materialOptions);return u.setCrossOrigin(this.crossOrigin),u.setManager(this.manager),u.setMaterials(n),u}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var r in e){var a=e[r],n={};t[r]=n;for(var i in a){var s=!0,o=a[i],d=i.toLowerCase();switch(d){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(o=[o[0]/255,o[1]/255,o[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===o[0]&&0===o[1]&&0===o[1]&&(s=!1);break;case"d":this.options&&this.options.invertTransparency&&(o=1-o)}s&&(n[d]=o)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this.materialsInfo[e],r={name:e,side:this.side};for(var a in t){var n=t[a];switch(a.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(n);break;case"ka":break;case"ks":r.specular=(new THREE.Color).fromArray(n);break;case"map_kd":r.map=this.loadTexture(this.baseUrl+n),r.map.wrapS=this.wrap,r.map.wrapT=this.wrap;break;case"ns":r.shininess=parseFloat(n);break;case"d":1>n&&(r.transparent=!0,r.opacity=n);break;case"map_bump":case"bump":if(r.bumpMap)break;r.bumpMap=this.loadTexture(this.baseUrl+n),r.bumpMap.wrapS=this.wrap,r.bumpMap.wrapT=this.wrap}}return this.materials[e]=new THREE.MeshPhongMaterial(r),this.materials[e]},loadTexture:function(e,t,r,a,n){var i,s=THREE.Loader.Handlers.get(e),o=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null!==s?i=s.load(e,r):(i=new THREE.Texture,s=new THREE.ImageLoader(o),s.setCrossOrigin(this.crossOrigin),s.load(e,function(e){i.image=THREE.MTLLoader.ensurePowerOfTwo_(e),i.needsUpdate=!0,r&&r(i)},a,n)),void 0!==t&&(i.mapping=t),i}},THREE.MTLLoader.ensurePowerOfTwo_=function(e){if(!THREE.Math.isPowerOfTwo(e.width)||!THREE.Math.isPowerOfTwo(e.height)){var t=document.createElement("canvas");t.width=THREE.MTLLoader.nextHighestPowerOfTwo_(e.width),t.height=THREE.MTLLoader.nextHighestPowerOfTwo_(e.height);var r=t.getContext("2d");return r.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),t}return e},THREE.MTLLoader.nextHighestPowerOfTwo_=function(e){--e;for(var t=1;32>t;t<<=1)e|=e>>t;return e+1},THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype)},function(e,t){THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,a){var n=this,i=new THREE.XHRLoader(n.manager);i.setCrossOrigin(this.crossOrigin),i.load(e,function(e){t(n.parse(e))},r,a)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){function t(e){var t=parseInt(e);return 3*(t>=0?t-1:t+p.length/3)}function r(e){var t=parseInt(e);return 3*(t>=0?t-1:t+h.length/3)}function a(e){var t=parseInt(e);return 2*(t>=0?t-1:t+f.length/2)}function n(e,t,r){l.vertices.push(p[e],p[e+1],p[e+2],p[t],p[t+1],p[t+2],p[r],p[r+1],p[r+2])}function i(e,t,r){l.normals.push(h[e],h[e+1],h[e+2],h[t],h[t+1],h[t+2],h[r],h[r+1],h[r+2])}function s(e,t,r){l.uvs.push(f[e],f[e+1],f[t],f[t+1],f[r],f[r+1])}function o(e,o,d,l,c,u,p,h,f,E,m,v){var g,T=t(e),w=t(o),R=t(d);void 0===l?n(T,w,R):(g=t(l),n(T,w,g),n(w,R,g)),void 0!==c&&(T=a(c),w=a(u),R=a(p),void 0===l?s(T,w,R):(g=a(h),s(T,w,g),s(w,R,g))),void 0!==f&&(T=r(f),w=r(E),R=r(m),void 0===l?i(T,w,R):(g=r(v),i(T,w,g),i(w,R,g)))}console.time("OBJLoader");var d,l,c,u=[];/^o /gm.test(e)===!1&&(l={vertices:[],normals:[],uvs:[]},c={name:""},d={name:"",geometry:l,material:c},u.push(d));for(var p=[],h=[],f=[],E=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,m=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,v=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,T=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,w=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,H=e.split("\n"),L=0;L<H.length;L++){var M=H[L];M=M.trim();var b;0!==M.length&&"#"!==M.charAt(0)&&(null!==(b=E.exec(M))?p.push(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3])):null!==(b=m.exec(M))?h.push(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3])):null!==(b=v.exec(M))?f.push(parseFloat(b[1]),parseFloat(b[2])):null!==(b=g.exec(M))?o(b[1],b[2],b[3],b[4]):null!==(b=T.exec(M))?o(b[2],b[5],b[8],b[11],b[3],b[6],b[9],b[12]):null!==(b=w.exec(M))?o(b[2],b[6],b[10],b[14],b[3],b[7],b[11],b[15],b[4],b[8],b[12],b[16]):null!==(b=R.exec(M))?o(b[2],b[5],b[8],b[11],void 0,void 0,void 0,void 0,b[3],b[6],b[9],b[12]):/^o /.test(M)?(l={vertices:[],normals:[],uvs:[]},c={name:""},d={name:M.substring(2).trim(),geometry:l,material:c},u.push(d)):/^g /.test(M)||(/^usemtl /.test(M)?c.name=M.substring(7).trim():/^mtllib /.test(M)||/^s /.test(M)))}for(var O=new THREE.Object3D,L=0,x=u.length;x>L;L++){d=u[L],l=d.geometry;var y=new THREE.BufferGeometry;y.addAttribute("position",new THREE.BufferAttribute(new Float32Array(l.vertices),3)),l.normals.length>0&&y.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l.normals),3)),l.uvs.length>0&&y.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(l.uvs),2)),c=new THREE.MeshLambertMaterial,c.name=d.material.name;var F=new THREE.Mesh(y,c);F.name=d.name,O.add(F)}return console.timeEnd("OBJLoader"),O}}},function(e,t){THREE.OBJMTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJMTLLoader.prototype={constructor:THREE.OBJMTLLoader,load:function(e,t,r,a,n){var i=this,s=new THREE.MTLLoader(this.manager);s.setBaseUrl(e.substr(0,e.lastIndexOf("/")+1)),s.setCrossOrigin(this.crossOrigin),s.load(t,function(t){var s=t;s.preload();var o=new THREE.XHRLoader(i.manager);o.setCrossOrigin(i.crossOrigin),o.load(e,function(e){var t=i.parse(e);t.traverse(function(e){if(e instanceof THREE.Mesh&&e.material.name){var t=s.create(e.material.name);t&&(e.material=t)}}),r(t)},a,n)},a,n)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function r(e,t,r){return new THREE.Vector3(e,t,r)}function a(e,t){return new THREE.Vector2(e,t)}function n(e,t,r,a){return new THREE.Face3(e,t,r,a)}function i(e,t){E.length>0&&(p.vertices=E,p.mergeVertices(),p.computeFaceNormals(),p.computeBoundingSphere(),u.add(f),p=new THREE.Geometry,f=new THREE.Mesh(p,h)),void 0!==e&&(f.name=e),void 0!==t&&(h=new THREE.MeshLambertMaterial,h.name=t,f.material=h)}function s(e,t,r,a){void 0===a?p.faces.push(n(parseInt(e)-(l+1),parseInt(t)-(l+1),parseInt(r)-(l+1))):p.faces.push(n(parseInt(e)-(l+1),parseInt(t)-(l+1),parseInt(r)-(l+1),[m[parseInt(a[0])-1].clone(),m[parseInt(a[1])-1].clone(),m[parseInt(a[2])-1].clone()]))}function o(e,t,r){p.faceVertexUvs[0].push([v[parseInt(e)-1].clone(),v[parseInt(t)-1].clone(),v[parseInt(r)-1].clone()])}function d(e,t,r){void 0===e[3]?(s(e[0],e[1],e[2],r),void 0!==t&&t.length>0&&o(t[0],t[1],t[2])):(void 0!==r&&r.length>0?(s(e[0],e[1],e[3],[r[0],r[1],r[3]]),s(e[1],e[2],e[3],[r[1],r[2],r[3]])):(s(e[0],e[1],e[3]),s(e[1],e[2],e[3])),void 0!==t&&t.length>0&&(o(t[0],t[1],t[3]),o(t[1],t[2],t[3])))}for(var l=0,c=new THREE.Group,u=c,p=new THREE.Geometry,h=new THREE.MeshLambertMaterial,f=new THREE.Mesh(p,h),E=[],m=[],v=[],g=/v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,T=/vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,w=/vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,R=/f( +\d+)( +\d+)( +\d+)( +\d+)?/,H=/f( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))?/,L=/f( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))?/,M=/f( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))?/,b=e.split("\n"),O=0;O<b.length;O++){var x=b[O];x=x.trim();var y;if(0!==x.length&&"#"!==x.charAt(0))if(null!==(y=g.exec(x)))E.push(r(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])));else if(null!==(y=T.exec(x)))m.push(r(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])));else if(null!==(y=w.exec(x)))v.push(a(parseFloat(y[1]),parseFloat(y[2])));else if(null!==(y=R.exec(x)))d([y[1],y[2],y[3],y[4]]);else if(null!==(y=H.exec(x)))d([y[2],y[5],y[8],y[11]],[y[3],y[6],y[9],y[12]]);else if(null!==(y=L.exec(x)))d([y[2],y[6],y[10],y[14]],[y[3],y[7],y[11],y[15]],[y[4],y[8],y[12],y[16]]);else if(null!==(y=M.exec(x)))d([y[2],y[5],y[8],y[11]],[],[y[3],y[6],y[9],y[12]]);else if(/^o /.test(x))i(),l+=E.length,E=[],u=new THREE.Object3D,u.name=x.substring(2).trim(),c.add(u);else if(/^g /.test(x))i(x.substring(2).trim(),void 0);else if(/^usemtl /.test(x))i(void 0,x.substring(7).trim());else if(/^mtllib /.test(x)){if(t){var F=x.substring(7);F=F.trim(),t(F)}}else/^s /.test(x)||console.log("THREE.OBJMTLLoader: Unhandled line "+x)}return i(void 0,void 0),c}},THREE.EventDispatcher.prototype.apply(THREE.OBJMTLLoader.prototype)}]);